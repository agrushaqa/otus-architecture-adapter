Реализация

На основе любого класса
(здесь используется /data/imovable.py)
в той же папке создаётся файл
(в тестах зашито название autogen_target.py)
содержащий класс и реализацию всех методов найденных в imovable.py

Домашнее задание

Генерация адаптеров по интерфейсу
Цель:

В рамках данного ДЗ Вы научитесь генерировать адаптеры для интерфейсов, полученных при применении принципа DIP.
ДЗ демонстрирует применение метапрограммирования для решения рутинных задач, а также возможности Reflection и компиляции "на лету" современных языков программирования.
Если задание выполняется на C++, то задание заключается в написании препроцессора, который ищет абстрактные классы и по ним генерирует код адаптера, который включается в состав проекта. Для удобства такой препроцессор стоит запускать на этапе, предшествующем компиляции в процессе сборки, а также стоит подумать об удалении всех сгенерированных файлов при выполнении команды clear.

Описание/Пошаговая инструкция выполнения домашнего задания:

Предположим, что у нас есть интерфейс
interface Tank.Operations.IMovable
{
Vector getPosition();
Vector setPosition(Vector newValue);
Vector getVelocity();
}

    Необходимо по нему сгенерировать следующий класс:
    class AutoGenerated.MovableAdapter: Tank.Operations.IMovable
    {
    UObject obj;
    public MovableAdapter(UObject obj)
    {
    this.obj = obj;
    }
    public Vector getPosition()
    {
    return IoC.Resolve("Tank.Operations.IMovable:position.get", obj);
    }
    public Vector getVelocity()
    {
    return IoC.Resolve("Tank.Operations.IMovable:velocity.get", obj);
    }
    public Vector setPosition(Vector newValue)
    {
    return IoC.Resolve("Tank.Operations.IMovable:position.set", obj, newValue);
    }
    }
    так, чтобы можно было создавать экземпляры этого класса.
    Экземпляры генерируемых оберток для объекта obj можно создавать следующей строкой:
    var adapter = IoC.Resolve("Adapter", typeof(IMovable), obj);
    3*. Необязательная задача на подумать: если интерфейсе потребуются какие-либо методы, например, как
    interface Tank.Operations.IMovable
    {
    Vector getPosition();
    Vector setPosition(Vector newValue);
    Vector getVelocity();
    void finish();
    }
    Придумать реализацию адаптера для подобных методов.


Критерии оценки:

Критерии оценки:

    Задание сдано на проверку - 1 балл
    Реализован генератор адаптеров - 2 балла
    Реализованы тесты на генератор адаптеров - 2 балла
    Определена стратегия для IoC из п. 2 задания - 2 баллов
    Обработан случай из п. 3 задания - 3 баллов
    минимальное количество баллов, которое необходимо набрать - 7 баллов

# requirements.txt
## create
pip freeze > requirements.txt
## use
pip install -r requirements.txt

# code style
## isort
python -m pip install isort
### run 
isort .
## mypy
python -m pip install mypy
### run 
mypy .
## flake8
python -m pip install flake8
### run
flake8 --exclude venv,docs
## code coverage
pip install coverage
### run
coverage run C:\Users\agrusha\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\LocalCache\local-packages\Python310\site-packages\behave\__main__.py
в файле .coveragerc нужно указать исходники